---
title: "[programmers data engineering] 1week"
excerpt: "[스터디/6기] 실리콘밸리에서 날아온 데이터 엔지니어링 스타터 키트 with Python"

categories:
 - 프로그래머스 데이터 엔지니어링
tags:
 - python
 - airflow
 - data engineer
 - programmers
---

## 프로그래머스 데이터 엔지니어링 1주차

[실리콘밸리에서 날아온 데이터 엔지니어링 스타터 키트 with Python](https://programmers.co.kr/learn/courses/12916)

1주차에는 데이터 엔지니어링을 위한 스킬들을 배우기 전에 데이터팀은 어떻게 구성되어 있고 어떤 업무들을 하는지, 또한 이러한 업무를 어떤 방식으로 처리하고 있는지에 대해 알 수 있었다. 그리고 데이터 엔지니어가 가장 많이 다루게 될 데이터 warehouse에 대한 간단한 컨셉을 알 수 있었다. 이와 함께 강사님이 생각하시기에 사회초년생이 어떻게 커리어를 쌓는 것이 좋을지에 대한 이야기를 들을 수 있었다.

### 사회초년생을 위한 커리어 이야기
- 매번 부족함을 느껴 도전하지 않고 공부만 하는 것보다는, 기본적으로 요구되는 지식 및 실력을 쌓고 빠르게 도전하는 편이 낫다.
- 실제 업무에서 다양한 툴들을 매우 많이 사용하지만, <u>SQL, airflow, python</u>을 기본적인 스킬셋으로 요구하는 것 같다.
- spark까지 알면 좋겠지만, 주니어가 spark를 명확히 알고 활용하기 힘들다. 어차피 spark의 필요성은 자연스럽게 느끼게 될 것이기 때문에, 시작부터 spark 공부에 대한 부담을 가질 필요가 없다.  
- 작은 성공의 연속으로 자신감을 갖는 것이 가장 중요하다고 생각한다.
- 어렸을 때 다양한 것을 시도해보고, 나한테 맞다고 판단되는 것에 집중하자. 30대 후반이 되기 전까지 exploits(과업, 업적)을 달성할 수 있는 직군을 정하면 충분히 행복할 수 있다고 생각한다.
- full time으로 6개월은 집중해봐야 잘 맞는지 알 수 있고 자신감도 생긴다. 때문에, 포기하지 말고 6개월 후에 결정하는 것을 추천한다.
- 다른 사람이랑 비교해서 기죽지 말고, 어제의 내가 발전하는 방향만 생각하면 된다. 잘하는 사람들의 대부분은 해당 공부를 먼저 접하고 많은 시간을 들인 상태일 것이다.
- 많은 기업들이 water fall에서 agile 방식으로 변해가고 있다. 흐름이 빠르기 때문에 개인의 삶도 agile 방식으로 사는 것이 낫다고 생각한다.

### 데이터 조직
- 데이터 조직은 일반적으로 내부 직원들을 서포트하는 부수적인 조직
- 대다수 기업의 경우 데이터로 바로 돈을 벌 수 있는 구조가 아니다.(물론 데이터를 팔아서 돈을 버는 기업도 꽤 있음.) 반도체 회사를 예를 들자면 반도체 수율을 높이기 위해 데이터 기반으로 공정을 개선시키는 것이지, 반도체 자체를 만드는데 활용되지는 않는다는 것이다.
- 데이터를 활용한 decision 방법
  - data driven decisions
    - 무조건 데이터에서 나온 결과를 따라가는 decision 방법
    - 결정에 대한 기준이 없고 애매할 때 도움이 될 수 있다.
    - 혁신이 발생하지 않음.
    - 개인적인 생각이지만, 책임을 질 사람이 없다는 것도 문제가 될 것 같다.
  - data informed decisions
    - 데이터에서 나온 결과를 참고하여 decision을 내리는 방법
    - 혁신 발생 가능성 있음.
- 데이터 조직 구성: 데이터 엔지니어, 데이터 분석가, 데이터 과학자
  - 데이터 분석가
    - 내부 직원을 상대로 업무 수행
    - data warehouse에 적재되어 있는 data로 summary table 만들어서 사용 및 제공
    - raw data를 기반으로 summary table 생성 => summary table이 모여있는 곳을 data mart라고 표현함.
    - 매번 원하는 데이터를 보기 위해 raw data 직접 불러와서 join하는 것은 굉장히 비효율적이기 때문에 data mart 구성을 고려해야함.
  - 데이터 과학자
    - 외부 고객(직접적인 서비스)을 상대로 업무 수행
    - 알고리즘을 통해 고객 경험 향상시킴.
    - 예를 들어, 상품 quality를 향상시키기 위해 예측 모델 building하는 것
    - 통계 지식이 수학 지식보다 훨씬 중요하다고 판단됨.
  - 데이터 엔지니어
    - 고품질의 신뢰할 수 있는 데이터를 모아주는 업무 수행
    - 데이터 엔지니어는 raw data를 warehouse에 모아주는 역할
    - 당연한 이야기이지만, 발생하는 데이터의 종류가 너무 많기 때문에 어떤 데이터들이 모이는지 다 아는 것은 불가능한 일!
    - <u>어딘가에 존재하는 데이터를 warehouse로 제대로 복사하고 적재해주는 것이 제일 중요</u>하고, 이렇게 쌓인 데이터를 분석가가 입맛에 맞게 summary table을 만든다.
    - 데이터 워크플로우 ETL 툴은 현재 에어플로우가 표준으로 자리 잡음.
  - ML engineer
    - 데이터 엔지니어 + 데이터 분석가
    - 직접 데이터 엔지니어링을 통해 원하는 데이터를 추출하고 데이터를 분석

### 효율적인 업무에 관하여
- 모델의 경우 간단하게 만들어서 사이클을 한바퀴 돌려보는 것이 중요(agile 방식)
  - 한번 돌려보면 어느 팀과 협업을 해야할지, 무엇이 필요한지 빠르게 인지 가능하다.
  - 이후 지속적으로 A/B 테스트 하는 것이 중요(데이터 엔지니어가 하는 경우도 많고 매우매우매우 중요)
- 솔루션은 간단할수록 좋다.
  - pandas로 할 수 있는 것을 굳이 spark로 할 필요가 없다.
  - 많이 쓰고 유행한다고 따라가는 게 좋은 게 아니다. 적절한 솔루션을 적용하는 게 좋다.
  - 간단한 로직으로 해결할 수 있는 문제를 복잡한 로직으로 해결하려고 하면 안된다.
  - 일단 간단하게 사이클을 한바퀴 돌아보는 것이 중요! -> 적절한 솔루션 및 로직을 선택할 수 있음.
- 코호트 분석
  - 유저를 그루핑하여 분석하는 기법
  - 각 플랫폼별로 유입된 유저로 나눠서 분석
  - ex) 틱톡에서 유입된 유저, 유튜브에서 유입된 유저 등으로 나눠서 비교 분석

### data warehouse의 개념
- production DB
  - 운영에 쓰이는 DB
  - 당연히 응답 속도가 굉장히 중요함!
  - 운영에 필요한 최소한의 데이터만 저장하고, 보통 백엔드 개발자나 DBA들이 관리
- data warehouse
  - 내부 데이터팀 또는 직원들을 위한 DB
  - 응답 속도가 production DB에 비해 빠를 필요가 없으며 처리할 수 있는 데이터의 규모가 더욱 중요
  - 온갖 종류의 데이터가 모여있으며 데이터 엔지니어가 관리
  - 데이터 분석가가 production DB에 붙어서 데이터 분석할 경우, 서비스 응답 속도에 큰 영향을 미치기 때문에 쓰면 안된다. 이러한 이유로 데이터팀이 쿼리, 분석 등 많은 리소스를 요하는 업무를 위해 data warehouse 구축이 필요하다.
  - 결국 데이터 웨어하우스도 하나의 컨셉일 뿐이다. 단지 데이터 사이즈가 크기 때문에 사용하는 것이다. 만약 규모가 작으면 mysql 등의 RDB를 활용해도 무방하며, 관찰하면서 데이터 warehouse로 넘어가는 타이밍을 잘 잡아야 한다. 결국 운영용 DB랑 내부에서 편하게 사용할 DB를 나누기 위해 컨셉을 나눠놓은 형태로 봐야 한다.

### 2주차 PREVIEW
- 보통 API를 호출해서 ETL 하는 경우가 대다수이며, production DB는 mysql 등에서 호출되어 ETL 진행되는 경우가 많음.
- looker가 실리콘벨리에서 현재 가장 많이 사용되는 대쉬보드, 이전까지는 태블로가 가장 많이 사용됨.
  - looker는 비용이 많이 들기 때문에 무료 대쉬보드인 superset을 활용하는 경우도 있음.
- pandas, spark
  - pandas: 서버 한대에 들어가는 작은 데이터를 다루는 것
  - spark: 여러 클러스터에 들어가는 큰 데이터를 다루는 것
  - pandas와 spark에서 데이터 다루는 컨셉은 거의 비슷함.
- A/B 테스트
  - 단일 변수에 대한 두 가지 버전을 비교하는 방법
  - A는 기존 버전, B는 수정 버전으로 비교하는 방법으로 단일 변수로 진행한다는 점이 중요
  - ex) 웹사이트에서 버튼 하나의 색상을 다르게 하여 클릭 횟수 비교
